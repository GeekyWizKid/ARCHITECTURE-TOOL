# DDD 架构工具 - 项目管理功能指南

## 概述

DDD 架构工具现在支持完整的项目管理功能，包括项目创建、保存、加载、导出和导入。

## 功能特性

### 1. 项目管理主页面

- **项目列表**: 显示所有已创建的项目，包括项目名称、描述、最后修改时间、文件大小、边界上下文数量和概念数量
- **搜索功能**: 支持按项目名称和描述搜索
- **排序功能**: 支持按名称、修改时间、文件大小排序
- **项目操作**: 每个项目支持打开、导出、复制、删除操作

### 2. 项目创建

点击"新建项目"按钮可以创建新项目：
- **项目名称**: 必填字段
- **项目描述**: 可选字段，用于描述项目用途
- **作者**: 可选字段，记录项目创建者

### 3. 项目编辑器

进入项目后，可以使用完整的DDD建模功能：
- **边界上下文管理**: 添加、编辑、删除边界上下文
- **概念建模**: 在边界上下文中添加各种DDD概念
- **关系建模**: 使用连接模式创建概念间的关系
- **自动保存**: 编辑后2秒自动保存，避免数据丢失

### 4. 项目保存与加载

- **自动保存**: 项目会在编辑后自动保存到浏览器本地存储
- **手动保存**: 点击工具栏的"保存"按钮手动保存
- **未保存提示**: 工具栏会显示未保存更改的状态（黄色圆点）
- **项目加载**: 从项目列表选择项目即可加载

### 5. 项目导出

支持多种格式的项目导出：
- **JSON格式**: 标准的JSON文件，包含完整的项目数据
- **XML格式**: XML格式导出（基础实现）
- **YAML格式**: YAML格式导出（基础实现）

导出选项：
- **包含元数据**: 导出文件包含创建时间、作者等元数据
- **包含位置信息**: 导出文件包含元素的画布位置信息
- **压缩输出**: 生成压缩的文件格式

### 6. 项目导入

- **文件格式支持**: 支持导入.json、.xml、.yaml、.yml文件
- **数据验证**: 导入时会验证文件格式的有效性
- **ID重新生成**: 导入的项目会获得新的ID，避免冲突

### 7. 项目复制

- 可以快速复制现有项目作为新项目的起点
- 复制时会重新生成所有ID，确保数据独立性

## 使用流程

### 创建新项目
1. 在项目管理主页面点击"新建项目"
2. 填写项目信息（名称必填）
3. 点击"创建"按钮
4. 自动进入项目编辑器

### 编辑现有项目
1. 在项目列表中找到目标项目
2. 点击"打开"按钮
3. 在编辑器中进行建模
4. 系统会自动保存更改

### 导出项目
1. 在项目列表中点击项目的导出按钮（下载图标）
2. 选择导出格式和选项
3. 点击"导出"按钮
4. 文件会自动下载到本地

### 导入项目
1. 在项目管理主页面点击"导入项目"
2. 选择要导入的文件
3. 系统会验证并导入项目
4. 导入成功后自动打开项目

## 数据存储

- **本地存储**: 项目数据存储在浏览器的localStorage中
- **数据持久化**: 数据在浏览器会话间保持持久化
- **存储限制**: 受浏览器localStorage容量限制（通常5-10MB）

## 技术实现

### 核心组件
- **ProjectManager**: 项目管理主页面组件
- **ProjectService**: 项目数据管理服务
- **Project Types**: 项目相关的TypeScript类型定义

### 数据结构
```typescript
interface ProjectData {
  project: Project;           // 项目基本信息
  boundedContexts: BoundedContext[];  // 边界上下文列表
  concepts: DDDConcept[];     // 概念列表
  relationships: DDDRelationship[];   // 关系列表
}
```

### 文件格式
导出的项目文件包含：
- **version**: 工具版本号
- **data**: 完整的项目数据
- **metadata**: 导出元数据（时间、作者等）

## 最佳实践

1. **定期导出**: 建议定期导出重要项目作为备份
2. **命名规范**: 使用清晰的项目名称和描述
3. **版本管理**: 可以通过复制项目来创建版本快照
4. **数据备份**: 重要项目建议导出到外部存储

## 故障排除

### 项目无法保存
- 检查浏览器localStorage是否已满
- 尝试清理不需要的项目
- 检查浏览器控制台的错误信息

### 导入失败
- 确认文件格式正确（目前主要支持JSON）
- 检查文件内容是否完整
- 确认文件不是损坏的

### 数据丢失
- 检查浏览器是否清理了localStorage
- 尝试从导出的备份文件恢复
- 检查是否在隐私模式下使用浏览器

## 未来计划

- 支持云端存储同步
- 增强的XML和YAML导入导出
- 项目版本历史管理
- 团队协作功能
- 更多的导出格式（如PlantUML、Mermaid等） 